define(["backbone","com/ericmatthys/Config","com/ericmatthys/models/AppModel","com/ericmatthys/views/Container","text!templates/controls.html"],function(a,b,c,d,e){var f="emp-play-pause",g="emp-seek-bar",h="emp-progress-bar",i,j=a.View.extend({className:"emp-controls",model:c.video,events:{"click .emp-play-pause":"onPlayPauseClick","click .emp-seek-bar":"onSeekBarClick"},initialize:function(){_.bindAll(this,"onCurrentTimeChange"),this.model.bind("change",this.onCurrentTimeChange)},render:function(){return this.$el.html(_.template(e,c.video.toJSON())),this},onPlayPauseClick:function(){d.playPause()},onSeekBarClick:function(a){var b=a.pageX-this.el.offsetLeft,e=b/this.$el.width(),f=e*c.video.get("duration");d.seek(f)},onCurrentTimeChange:function(){this.render();var a=$("."+g).width(),b=c.video.get("currentTime")/c.video.get("duration");$("."+h).width(a*b)}});return{viewConstructor:j,initialize:function(){i=new j;var a=$("#"+b.getVideoID()),c=i.make("div",{"class":i.className});return a.after(c),$("."+i.className).width(a.width()),i.setElement(c),i.render(),i}}})